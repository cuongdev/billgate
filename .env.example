# =============================================================================
# Docker Compose / Server environment – copy to .env and fill in values
# =============================================================================

# --- Múi giờ mặc định (Docker đã set TZ=Asia/Ho_Chi_Minh trong compose) ---
# Chạy local có thể set để Node/Postgres dùng giờ VN:
# TZ=Asia/Ho_Chi_Minh

# --- Auth (Google + JWT) ---
#
# Cách lấy GOOGLE_CLIENT_ID:
# 1. Vào https://console.firebase.google.com → chọn project
# 2. Project Settings (bánh răng) → General → scroll xuống "Your apps"
# 3. Nếu chưa có Web app: Add app → Web (</>) → đăng ký, copy config
# 4. Trong "Your apps" → Web API Key chính là apiKey (client). Để xác thực backend
#    cần OAuth 2.0 Client ID: vào Google Cloud Console
#    https://console.cloud.google.com/apis/credentials (cùng project với Firebase)
# 5. APIs & Services → Credentials → Create Credentials → OAuth client ID
#    Application type: Web application (hoặc dùng client ID của client type "Web client"
#    đã tự tạo khi thêm Firebase Web app). Copy "Client ID" (dạng xxx.apps.googleusercontent.com)
#
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com

# JWT for API/WebSocket (use a long random secret in production)
JWT_SECRET=your-jwt-secret-do-not-use-default-in-prod
JWT_ISSUER=vpbank-mini-app
JWT_AUDIENCE=vpbank-mini-app

# --- Internal API (server ↔ worker / callbacks) ---
INTERNAL_API_SECRET=your-internal-api-secret

# --- Firebase Admin (xác thực token, FCM, ...) ---
#
# Cách lấy FIREBASE_SERVICE_ACCOUNT_JSON (dùng 1 trong 2 cách):
#
# Cách 1 – File (khuyến nghị cho Docker): không cần set biến env này.
#   - Firebase Console → Project Settings → Service accounts
#   - "Generate new private key" → tải file JSON
#   - Đổi tên thành service-account.json, đặt trong thư mục server/
#   - Docker Compose đã mount: ./server/service-account.json:/app/service-account.json
#   - Set GOOGLE_APPLICATION_CREDENTIALS=/app/service-account.json (đã có trong compose)
#
# Cách 2 – Biến env (cho CI/K8s khi không mount file):
#   - Cùng bước tải JSON như trên
#   - Copy toàn bộ nội dung file (1 dòng JSON), paste vào dưới dạng 1 chuỗi
#   - Trong docker-compose: thêm env FIREBASE_SERVICE_ACCOUNT_JSON cho service
#
# FIREBASE_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"...",...}

# =============================================================================
# Client (frontend) – cấu hình trong client/.env
# =============================================================================
# Copy client/.env.example → client/.env và điền:
#   - VITE_API_URL: URL backend (vd: http://localhost:3000)
#   - VITE_FIREBASE_*: config Firebase Web app (Project Settings → General → Your apps)
# Chi tiết: xem client/.env.example
